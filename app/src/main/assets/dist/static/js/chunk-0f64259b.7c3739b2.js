(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0f64259b"],{"02de":function(t,e,i){"use strict";function n(t){var e=window.getComputedStyle(t),i="none"===e.display,n=null===t.offsetParent&&"fixed"!==e.position;return i||n}i.d(e,"a",function(){return n})},"1d11":function(t,e,i){"use strict";i.r(e);var n,r=i("bd86"),s=(i("2994"),i("2bdd")),a=(i("7f7f"),i("5246"),i("6b41")),o=i("c443"),c={name:"message",components:(n={},Object(r.a)(n,a.a.name,a.a),Object(r.a)(n,s.a.name,s.a),n),data:function(){return{pageDate:{total:null,pageSize:10,pageNum:1},loading:!1,finished:!1,error:!1,messages:[]}},mounted:function(){},methods:{_sysMessageList:function(){var r=this;Object(o.b)({pageSize:this.pageDate.pageSize,pageNum:this.pageDate.pageNum}).then(function(t){var e=t.data,i=e.list,n=e.total;t.success&&(i.map(function(t){return r.messages.push(t)}),r.pageDate.total=n,console.log("res: ",t),r.pageDate.pageNum=r.pageDate.pageNum+1),r.loading=!1,r.messages.length>=n&&(r.finished=!0)}).catch(function(){r.error=!0})},goRecordDetail:function(t){this.$router.push({path:"/message-detail/".concat(t.id||"")})},goBack:function(){this.$router.back()}}},l=(i("b4d7"),i("2877")),d=Object(l.a)(c,function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticStyle:{height:"100vh",background:"#F5F5F5",position:"relative"}},[n("van-nav-bar",{attrs:{title:"消息列表",fixed:"","left-arrow":""},on:{"click-left":i.goBack}}),i._v(" "),n("van-list",{staticClass:"message-view",attrs:{finished:i.finished,"finished-text":"没有更多了",error:i.error,"error-text":"请求失败，点击重新加载"},on:{"update:error":function(t){i.error=t},load:i._sysMessageList},model:{value:i.loading,callback:function(t){i.loading=t},expression:"loading"}},i._l(i.messages,function(e){return n("div",{key:e.id,staticClass:"message-item",on:{click:function(t){return i.goRecordDetail(e)}}},[n("div",{staticClass:"title"},[i._v(i._s(e.title))]),i._v(" "),n("div",{staticClass:"createtime"},[i._v(i._s(e.updateTime))])])}),0)],1)},[],!1,null,"33ba7fa4",null);e.default=d.exports},2994:function(t,e,i){"use strict";i("68ef"),i("e3b3"),i("c0c2")},"2bdd":function(t,e,i){"use strict";var n=i("d282"),o=i("02de"),r=i("a8c1"),s=i("5fbe"),a=i("543e"),c=Object(n.a)("list"),l=c[0],d=c[1],u=c[2];e.a=l({mixins:[Object(s.a)(function(t){this.scroller||(this.scroller=Object(r.d)(this.$el)),t(this.scroller,"scroll",this.check)})],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var a=this;this.$nextTick(function(){if(!(a.innerLoading||a.finished||a.error)){var t,e=a.$el,i=a.scroller,n=a.offset,r=a.direction;if(!((t=i.getBoundingClientRect?i.getBoundingClientRect():{top:0,bottom:i.innerHeight}).bottom-t.top)||Object(o.a)(e))return!1;var s=a.$refs.placeholder.getBoundingClientRect();("up"===r?t.top-s.top<=n:s.bottom-t.bottom<=n)&&(a.innerLoading=!0,a.$emit("input",!0),a.$emit("load"))}})},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var t=this.$createElement;if(this.innerLoading&&!this.finished)return t("div",{class:d("loading"),key:"loading"},[this.slots("loading")||t(a.a,{attrs:{size:"16"}},[this.loadingText||u("loading")])])},genFinishedText:function(){var t=this.$createElement;if(this.finished){var e=this.slots("finished")||this.finishedText;if(e)return t("div",{class:d("finished-text")},[e])}},genErrorText:function(){var t=this.$createElement;if(this.error){var e=this.slots("error")||this.errorText;if(e)return t("div",{on:{click:this.clickErrorText},class:d("error-text")},[e])}}},render:function(t){var e=t,i=e("div",{ref:"placeholder",class:d("placeholder")});return e("div",{class:d(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():i,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():i])}})},5246:function(t,e,i){"use strict";i("68ef"),i("9d70"),i("3743"),i("8a0b")},"6b41":function(t,e,i){"use strict";var n=i("2638"),s=i.n(n),r=i("d282"),a=i("a142"),o=i("ba31"),c=i("b1d2"),l=i("ad06"),d=Object(r.a)("nav-bar"),u=d[0],f=d[1];function h(t,e,i,n){var r;return t("div",s()([{style:{zIndex:e.zIndex},class:[f({fixed:e.fixed}),((r={})[c.c]=e.border,r)]},Object(o.b)(n)]),[t("div",{class:f("left"),on:{click:n.listeners["click-left"]||a.f}},[i.left?i.left():[e.leftArrow&&t(l.a,{class:f("arrow"),attrs:{name:"arrow-left"}}),e.leftText&&t("span",{class:f("text")},[e.leftText])]]),t("div",{class:[f("title"),"van-ellipsis"]},[i.title?i.title():e.title]),t("div",{class:f("right"),on:{click:n.listeners["click-right"]||a.f}},[i.right?i.right():e.rightText?t("span",{class:f("text")},[e.rightText]):void 0])])}h.props={title:String,fixed:Boolean,zIndex:[Number,String],leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0}},e.a=u(h)},"83af":function(t,e,i){},"8a0b":function(t,e,i){},b4d7:function(t,e,i){"use strict";var n=i("83af");i.n(n).a},c0c2:function(t,e,i){},c443:function(t,e,i){"use strict";i.d(e,"b",function(){return r}),i.d(e,"a",function(){return s}),i.d(e,"c",function(){return a});var n=i("b775");function r(t){return Object(n.a)({url:"/sysMessage/page",params:t,method:"get"})}function s(t){return Object(n.a)({url:"/sysMessage",params:{id:t},method:"get"})}function a(){return Object(n.a)({url:"/sysParameter",params:{},method:"get"})}}}]);