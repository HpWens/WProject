(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-71b23704"],{"0a85":function(e,t,a){"use strict";a.r(t);a("b06f"),a("f91a"),a("63ff");var r=a("57f0"),n=(a("f10e"),a("289c")),o=(a("9749"),a("43df")),c=(a("416d"),a("6c44")),i=(a("a777"),a("aa15")),s=(a("58bb"),a("4eb7")),u=(a("88f1"),a("aa5f")),l=(a("3a23"),a("0d81"),a("5e14")),d=a("b775");var f,m,p=a("fecf"),b=a("8465"),v=a("c443"),h={name:"wallet-detail",components:(f={},Object(n.a)(f,l.a.name,l.a),Object(n.a)(f,u.a.name,u.a),Object(n.a)(f,s.a.name,s.a),Object(n.a)(f,i.a.name,i.a),Object(n.a)(f,c.a.name,c.a),Object(n.a)(f,o.a.name,o.a),f),data:function(){return{disabled:!0,fileList:[],form:{price:"",payName:"",payCardNo:""},bankInfo:{},type:"1",message:"Copy These Text",img:"www.baidu.com",rechargeDayLimit:"",fetchLoading:!1}},watch:{activeName:function(e){console.log("val: ",e)}},mounted:function(){this._sysBank(),this._sysParameter();var e;navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&(document.body.addEventListener("focusin",function(){clearTimeout(e)}),document.body.addEventListener("focusout",function(){!1||(e=setTimeout(function(){window.scrollTo({top:0,left:0,behavior:"smooth"})},200))}))},methods:{doCopy:function(e){this.$copyText(e).then(function(e){alert("Copied"),console.log(e)},function(e){alert("Can not copy"),console.log(e)})},_sysBank:function(){var t=this;Object(p.e)().then(function(e){console.log("res: ",e),e.success&&(t.bankInfo=e.data)})},_sysParameter:function(){var t=this;Object(v.c)().then(function(e){console.log("res: ",e),e.success&&(t.rechargeDayLimit=e.data.rechargeDayLimit)})},throttle:function(e,t){e._id&&clearTimeout(e._id),e._id=window.setTimeout(function(){e(),e._id=null},t)},finished:function(){this.throttle(this.finish(),1e4)},finish:(m=Object(r.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fetchLoading)return e.abrupt("return");e.next=2;break;case 2:return this.fetchLoading=!0,e.next=5,this.$nextTick();case 5:Object(b.g)({price:this.form.price,payName:this.form.payName,receiveName:this.bankInfo.name,receiveCardNo:this.bankInfo.cardNo,receiveBank:this.bankInfo.bankName,receiveBankBranch:this.bankInfo.branchBank,img:this.img}).then(function(e){e.success?(i.a.success("提交充值信息成功"),t.$router.replace("/my-wallet")):i.a.fail(e.message)}).catch(function(){t.fetchLoading=!1});case 6:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)}),afterRead:function(e){console.log("file: ",e)},beforeRead:function(e){var t=this;console.log("file123: ",e);var a,r=new FormData;return r.append("file",e),a=r,Object(d.a)({url:"/fileUpdaterController",data:a,method:"put",headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log("res: ",e),t.disabled=!1,t.img=e.data}).catch(function(){t.img="",i.a.fail("上传失败,请重新上传")}),!0},goBack:function(){this.$router.back()},goNext:function(){var e;return this.form.price?!/^\d+(\.\d{1,2})?$/.test(this.form.price)&&("number"==typeof(e=Number(this.form.price))&&!isNaN(e))||isNaN(this.form.price)?(Object(i.a)("对不起输入金额格式错误"),!1):this.form.price<=0?(Object(i.a)("提现金额必须大于 0"),!1):this.form.payName?void(this.type="2"):(i.a.fail("请填写付款人"),!1):(i.a.fail("请填写金额"),!1)},onCopy:function(){console.log(6666),i.a.success("复制成功")},onError:function(){i.a.success("复制失败")},focus:function(){console.log("focus")},blur:function(){console.log("blur"),window.scrollTo({top:0,left:0,behavior:"smooth"})}}},g=(a("6ca8"),a("5511")),y=Object(g.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{attrs:{title:"钱包充值",fixed:"","left-arrow":""},on:{"click-left":t.goBack}}),t._v(" "),1==t.type?a("div",{staticClass:"recharge-money"},[a("div",{staticClass:"recharge-money-item"},[a("div",{staticClass:"title"},[t._v("充值金额")]),t._v(" "),a("div",{staticClass:"recharge-input"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.form.price,expression:"form.price",modifiers:{number:!0}}],staticClass:"input recharge-num",attrs:{type:"text"},domProps:{value:t.form.price},on:{input:function(e){e.target.composing||t.$set(t.form,"price",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"desc"},[t._v("\n        温馨提示：充值请随机附带两位小数，例如100.06实际银行卡转\n        账金额和提交订单的金额必须一致\n      ")]),t._v(" "),a("div",{staticClass:"desc"},[t._v("单笔充值最少 100 元，当日累计充值最高 "+t._s(t.rechargeDayLimit)+" 元")])]),t._v(" "),a("div",{staticClass:"recharge-money-item"},[a("div",{staticClass:"title"},[t._v("付款人")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.payName,expression:"form.payName"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.payName},on:{focus:t.focus,blur:t.blur,input:function(e){e.target.composing||t.$set(t.form,"payName",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"next-btn",on:{click:t.goNext}},[t._v("下一步")])]):2==t.type?a("div",{staticClass:"recharge-money-upload"},[a("div",{staticClass:"recharge-user-info"},[a("div",{staticClass:"title"},[t._v("收款人信息")]),t._v(" "),a("table",{staticClass:"recharge-user-table",staticStyle:{"border-color":"#E5E5E5"},attrs:{cellspacing:"0",cellpadding:"1",border:"1px"}},[a("tr",[a("td",[t._v("收款人")]),t._v(" "),a("td",[t._v("\n            "+t._s(t.bankInfo.name)+"\n            "),a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.bankInfo.name,expression:"bankInfo.name",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"recharge-copy-btn"},[t._v("复制")])])]),t._v(" "),a("tr",[a("td",[t._v("银行卡号")]),t._v(" "),a("td",[t._v("\n            "+t._s(t.bankInfo.cardNo)+"\n            "),a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.bankInfo.cardNo,expression:"bankInfo.cardNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"recharge-copy-btn"},[t._v("复制")])])]),t._v(" "),a("tr",[a("td",[t._v("银行")]),t._v(" "),a("td",[t._v("\n            "+t._s(t.bankInfo.bankName)+"\n            "),a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.bankInfo.bankName,expression:"bankInfo.bankName",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"recharge-copy-btn"},[t._v("复制")])])]),t._v(" "),a("tr",[a("td",[t._v("开户行")]),t._v(" "),a("td",[t._v("\n            "+t._s(t.bankInfo.branchBank)+"\n            "),a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.bankInfo.branchBank,expression:"bankInfo.branchBank",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"recharge-copy-btn"},[t._v("复制")])])])])]),t._v(" "),a("div",{staticClass:"recharge-pic-upload"},[a("div",{staticClass:"title"},[t._v("上传截图")]),t._v(" "),a("div",{staticClass:"recharge-upload-view"},[a("van-uploader",{attrs:{"after-read":t.afterRead,"before-read":t.beforeRead,"max-count":1},on:{delete:function(e){t.disabled=!0}},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1),t._v(" "),a("div",{staticClass:"recharge-desc"},[t._v("＊转账完成后，请务必上传转账截图提交审核")])]),t._v(" "),t.disabled?a("van-button",{staticClass:"next-btn",attrs:{disabled:""}},[t._v("完成")]):a("van-button",{staticClass:"next-btn",on:{click:t.finished}},[t._v("完成")])],1):t._e()],1)},[],!1,null,"238fa9ad",null);t.default=y.exports},"2f67":function(e,t,a){},"6ca8":function(e,t,a){"use strict";var r=a("2f67");a.n(r).a},8465:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return o}),a.d(t,"d",function(){return c}),a.d(t,"i",function(){return i}),a.d(t,"g",function(){return s}),a.d(t,"h",function(){return u}),a.d(t,"e",function(){return l}),a.d(t,"j",function(){return d}),a.d(t,"f",function(){return f}),a.d(t,"c",function(){return m});var r=a("b775");function n(e){return Object(r.a)({url:"/lxbDetail",data:e,method:"post"})}function o(e){return Object(r.a)({url:"/lxbDetail",data:e,method:"put"})}function c(e){return Object(r.a)({url:"/lxbDetail/lxbPage",params:e,method:"get"})}function i(e){return Object(r.a)({url:"/userWithdraw",data:e,method:"post"})}function s(e){return Object(r.a)({url:"/userRecharge",data:e,method:"post"})}function u(){return Object(r.a)({url:"/userWallet/getByUser",method:"get"})}function l(e){return Object(r.a)({url:"/userRecharge/page",params:e,method:"get"})}function d(e){return Object(r.a)({url:"/userWithdraw/page",params:e,method:"get"})}function f(){return Object(r.a)({url:"/sysTimeDepositsSetting/list",method:"get"})}function m(e){return Object(r.a)({url:"/lxbDetail/page",params:e,method:"get"})}},c443:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return o}),a.d(t,"c",function(){return c});var r=a("b775");function n(e){return Object(r.a)({url:"/sysMessage/page",params:e,method:"get"})}function o(e){return Object(r.a)({url:"/sysMessage",params:{id:e},method:"get"})}function c(){return Object(r.a)({url:"/sysParameter",params:{},method:"get"})}},fecf:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"c",function(){return o}),a.d(t,"d",function(){return c}),a.d(t,"b",function(){return i}),a.d(t,"e",function(){return s});var r=a("b775");function n(e){return Object(r.a)({url:"/userBankAccount",data:e,method:"post"})}function o(e){return Object(r.a)({url:"/userBankAccount",data:e,method:"put"})}function c(e){return Object(r.a)({url:"/userBankAccount",params:e,method:"get"})}function i(e){return Object(r.a)({url:"/userBankAccount",params:{id:e},method:"delete"})}function s(){return Object(r.a)({url:"/sysBank",params:{},method:"get"})}}}]);