(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0f64259b"],{"02de":function(e,t,i){"use strict";function n(e){return"none"===window.getComputedStyle(e).display||null===e.offsetParent}i.d(t,"a",function(){return n})},"1d11":function(e,t,i){"use strict";i.r(t);var n,r=i("bd86"),a=(i("2994"),i("2bdd")),s=(i("7f7f"),i("5246"),i("6b41")),o=i("c443"),c={name:"message",components:(n={},Object(r.a)(n,s.a.name,s.a),Object(r.a)(n,a.a.name,a.a),n),data:function(){return{pageDate:{total:null,pageSize:10,pageNum:1},loading:!1,finished:!1,error:!1,messages:[]}},mounted:function(){},methods:{_sysMessageList:function(){var r=this;Object(o.b)({pageSize:this.pageDate.pageSize,pageNum:this.pageDate.pageNum}).then(function(e){var t=e.data,i=t.list,n=t.total;e.success&&(i.map(function(e){return r.messages.push(e)}),r.pageDate.total=n,console.log("res: ",e),r.pageDate.pageNum=r.pageDate.pageNum+1),r.loading=!1,r.messages.length>=n&&(r.finished=!0)}).catch(function(){r.error=!0})},goRecordDetail:function(e){this.$router.push({path:"/message-detail/".concat(e.id||"")})},goBack:function(){this.$router.back()}}},l=(i("b4d7"),i("2877")),d=Object(l.a)(c,function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticStyle:{height:"100vh",background:"#F5F5F5",position:"relative"}},[n("van-nav-bar",{attrs:{title:"消息列表",fixed:"","left-arrow":""},on:{"click-left":i.goBack}}),i._v(" "),n("van-list",{staticClass:"message-view",attrs:{finished:i.finished,"finished-text":"没有更多了",error:i.error,"error-text":"请求失败，点击重新加载"},on:{"update:error":function(e){i.error=e},load:i._sysMessageList},model:{value:i.loading,callback:function(e){i.loading=e},expression:"loading"}},i._l(i.messages,function(t){return n("div",{key:t.id,staticClass:"message-item",on:{click:function(e){return i.goRecordDetail(t)}}},[n("div",{staticClass:"title"},[i._v(i._s(t.title))]),i._v(" "),n("div",{staticClass:"createtime"},[i._v(i._s(t.updateTime))])])}),0)],1)},[],!1,null,"33ba7fa4",null);t.default=d.exports},2994:function(e,t,i){"use strict";i("68ef"),i("e3b3"),i("c0c2")},"2bdd":function(e,t,i){"use strict";var n=i("d282"),o=i("02de"),r=i("5fbe"),a=i("a8c1"),s=i("543e"),c=Object(n.a)("list"),l=c[0],d=c[1],u=c[2];t.a=l({mixins:[Object(r.a)(function(e){this.scroller||(this.scroller=Object(a.c)(this.$el)),e(this.scroller,"scroll",this.check)})],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var s=this;this.$nextTick(function(){if(!(s.innerLoading||s.finished||s.error)){var e,t=s.$el,i=s.scroller,n=s.offset,r=s.direction;if(!((e=i.getBoundingClientRect?i.getBoundingClientRect():{top:0,bottom:i.innerHeight}).bottom-e.top)||Object(o.a)(t))return!1;var a=s.$refs.placeholder.getBoundingClientRect();("up"===r?a.top-e.top<=n:a.bottom-e.bottom<=n)&&(s.innerLoading=!0,s.$emit("input",!0),s.$emit("load"))}})},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var e=this.$createElement;if(this.innerLoading&&!this.finished)return e("div",{class:d("loading"),key:"loading"},[this.slots("loading")||e(s.a,{attrs:{size:"16"}},[this.loadingText||u("loading")])])},genFinishedText:function(){var e=this.$createElement;if(this.finished&&this.finishedText)return e("div",{class:d("finished-text")},[this.finishedText])},genErrorText:function(){var e=this.$createElement;if(this.error&&this.errorText)return e("div",{on:{click:this.clickErrorText},class:d("error-text")},[this.errorText])}},render:function(e){var t=e,i=t("div",{ref:"placeholder",class:d("placeholder")});return t("div",{class:d(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():i,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():i])}})},5246:function(e,t,i){"use strict";i("68ef"),i("9d70"),i("09fe"),i("3743"),i("8a0b")},"6b41":function(e,t,i){"use strict";var n=i("2638"),a=i.n(n),r=i("d282"),s=i("a142"),o=i("ba31"),c=i("b1d2"),l=i("ad06"),d=Object(r.a)("nav-bar"),u=d[0],f=d[1];function h(e,t,i,n){var r;return e("div",a()([{class:[f({fixed:t.fixed}),((r={})[c.c]=t.border,r)],style:{zIndex:t.zIndex}},Object(o.b)(n)]),[e("div",{class:f("left"),on:{click:n.listeners["click-left"]||s.e}},[i.left?i.left():[t.leftArrow&&e(l.a,{class:f("arrow"),attrs:{name:"arrow-left"}}),t.leftText&&e("span",{class:f("text")},[t.leftText])]]),e("div",{class:[f("title"),"van-ellipsis"]},[i.title?i.title():t.title]),e("div",{class:f("right"),on:{click:n.listeners["click-right"]||s.e}},[i.right?i.right():t.rightText&&e("span",{class:f("text")},[t.rightText])])])}h.props={title:String,fixed:Boolean,leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0},zIndex:{type:Number,default:1}},t.a=u(h)},"83af":function(e,t,i){},"8a0b":function(e,t,i){},b4d7:function(e,t,i){"use strict";var n=i("83af");i.n(n).a},c0c2:function(e,t,i){},c443:function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return a}),i.d(t,"c",function(){return s});var n=i("b775");function r(e){return Object(n.a)({url:"/sysMessage/page",params:e,method:"get"})}function a(e){return Object(n.a)({url:"/sysMessage",params:{id:e},method:"get"})}function s(){return Object(n.a)({url:"/sysParameter",params:{},method:"get"})}}}]);