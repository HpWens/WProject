(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1c8d9d2e"],{"059f":function(e,t,i){},"0d81":function(e,t,i){"use strict";i("e3e8"),i("902f"),i("3bd2"),i("202b")},"1d11":function(e,t,i){"use strict";i.r(t);var n,r=i("289c"),a=(i("ef74"),i("9e01")),s=(i("3a23"),i("0d81"),i("5e14")),o=i("c443"),c={name:"message",components:(n={},Object(r.a)(n,s.a.name,s.a),Object(r.a)(n,a.a.name,a.a),n),data:function(){return{pageDate:{total:null,pageSize:10,pageNum:1},loading:!1,finished:!1,error:!1,messages:[]}},mounted:function(){},methods:{_sysMessageList:function(){var r=this;Object(o.b)({pageSize:this.pageDate.pageSize,pageNum:this.pageDate.pageNum}).then(function(e){var t=e.data,i=t.list,n=t.total;e.success&&(i.map(function(e){return r.messages.push(e)}),r.pageDate.total=n,console.log("res: ",e),r.pageDate.pageNum=r.pageDate.pageNum+1),r.loading=!1,r.messages.length>=n&&(r.finished=!0)}).catch(function(){r.error=!0})},goRecordDetail:function(e){this.$router.push({path:"/message-detail/".concat(e.id||"")})},goBack:function(){this.$router.back()}}},l=(i("36aa"),i("5511")),d=Object(l.a)(c,function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticStyle:{height:"100vh",background:"#F5F5F5",position:"relative"}},[n("van-nav-bar",{attrs:{title:"消息列表",fixed:"","left-arrow":""},on:{"click-left":i.goBack}}),i._v(" "),n("van-list",{staticClass:"message-view",attrs:{finished:i.finished,"finished-text":"没有更多了",error:i.error,"error-text":"请求失败，点击重新加载"},on:{"update:error":function(e){i.error=e},load:i._sysMessageList},model:{value:i.loading,callback:function(e){i.loading=e},expression:"loading"}},i._l(i.messages,function(t){return n("div",{key:t.id,staticClass:"message-item",on:{click:function(e){return i.goRecordDetail(t)}}},[n("div",{staticClass:"title"},[i._v(i._s(t.title))]),i._v(" "),n("div",{staticClass:"createtime"},[i._v(i._s(t.updateTime))])])}),0)],1)},[],!1,null,"f6dd882c",null);t.default=d.exports},"202b":function(e,t,i){},"36aa":function(e,t,i){"use strict";var n=i("059f");i.n(n).a},"407d":function(e,t,i){},"5e14":function(e,t,i){"use strict";var n=i("23c4"),a=i.n(n),r=i("22a9"),s=i("10c7"),o=i("bf5b"),c=i("a83a"),l=i("9142"),d=Object(r.a)("nav-bar"),u=d[0],f=d[1];function h(e,t,i,n){var r;return e("div",a()([{style:{zIndex:t.zIndex},class:[f({fixed:t.fixed}),((r={})[c.c]=t.border,r)]},Object(o.b)(n)]),[e("div",{class:f("left"),on:{click:n.listeners["click-left"]||s.f}},[i.left?i.left():[t.leftArrow&&e(l.a,{class:f("arrow"),attrs:{name:"arrow-left"}}),t.leftText&&e("span",{class:f("text")},[t.leftText])]]),e("div",{class:[f("title"),"van-ellipsis"]},[i.title?i.title():t.title]),e("div",{class:f("right"),on:{click:n.listeners["click-right"]||s.f}},[i.right?i.right():t.rightText?e("span",{class:f("text")},[t.rightText]):void 0])])}h.props={title:String,fixed:Boolean,zIndex:[Number,String],leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0}},t.a=u(h)},"5e3a":function(e,t,i){"use strict";function n(e){var t=window.getComputedStyle(e),i="none"===t.display,n=null===e.offsetParent&&"fixed"!==t.position;return i||n}i.d(t,"a",function(){return n})},"9e01":function(e,t,i){"use strict";var n=i("22a9"),o=i("5e3a"),r=i("b8f0"),a=i("dc1b"),s=i("f58d"),c=Object(n.a)("list"),l=c[0],d=c[1],u=c[2];t.a=l({mixins:[Object(a.a)(function(e){this.scroller||(this.scroller=Object(r.d)(this.$el)),e(this.scroller,"scroll",this.check)})],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var s=this;this.$nextTick(function(){if(!(s.innerLoading||s.finished||s.error)){var e,t=s.$el,i=s.scroller,n=s.offset,r=s.direction;if(!((e=i.getBoundingClientRect?i.getBoundingClientRect():{top:0,bottom:i.innerHeight}).bottom-e.top)||Object(o.a)(t))return!1;var a=s.$refs.placeholder.getBoundingClientRect();("up"===r?e.top-a.top<=n:a.bottom-e.bottom<=n)&&(s.innerLoading=!0,s.$emit("input",!0),s.$emit("load"))}})},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var e=this.$createElement;if(this.innerLoading&&!this.finished)return e("div",{class:d("loading"),key:"loading"},[this.slots("loading")||e(s.a,{attrs:{size:"16"}},[this.loadingText||u("loading")])])},genFinishedText:function(){var e=this.$createElement;if(this.finished){var t=this.slots("finished")||this.finishedText;if(t)return e("div",{class:d("finished-text")},[t])}},genErrorText:function(){var e=this.$createElement;if(this.error){var t=this.slots("error")||this.errorText;if(t)return e("div",{on:{click:this.clickErrorText},class:d("error-text")},[t])}}},render:function(e){var t=e,i=t("div",{ref:"placeholder",class:d("placeholder")});return t("div",{class:d(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():i,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():i])}})},c443:function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return a}),i.d(t,"c",function(){return s});var n=i("b775");function r(e){return Object(n.a)({url:"/sysMessage/page",params:e,method:"get"})}function a(e){return Object(n.a)({url:"/sysMessage",params:{id:e},method:"get"})}function s(){return Object(n.a)({url:"/sysParameter",params:{},method:"get"})}},ef74:function(e,t,i){"use strict";i("e3e8"),i("fc33"),i("407d")}}]);